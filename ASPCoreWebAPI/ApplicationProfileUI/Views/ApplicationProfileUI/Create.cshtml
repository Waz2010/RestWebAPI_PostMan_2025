@model ApplicationProfileUI.Models.ApplicationProfile

@{
    ViewData["Title"] = "Create Applicant";
    // CSS for red asterisk
    <style>
        .required-field::after {
            content: " *";
            color: red;
        }
    </style>
}

<div class="container mt-4">
    <h1 class="mb-4">Submit Applicant</h1>

    <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
            <h5 class="mb-0">Job Application</h5>
        </div>
        <div class="card-body">
            <form asp-action="Create" method="post">
                <div asp-validation-summary="ModelOnly" class="alert alert-danger"></div>

                <!-- Personal Information Section -->
                <div class="mb-4">
                    <h6 class="border-bottom pb-2 mb-3">Personal Information</h6>
                    <div class="row g-3">
                        <div class="col-md-4">
                            <label asp-for="FirstName" class="form-label required-field">First Name</label>
                            <input asp-for="FirstName" class="form-control" />
                            <span asp-validation-for="FirstName" class="text-danger"></span>
                        </div>
                        <div class="col-md-4">
                            <label asp-for="MiddleName" class="form-label">Middle Name</label>
                            <input asp-for="MiddleName" class="form-control" />
                        </div>
                        <div class="col-md-4">
                            <label asp-for="LastName" class="form-label required-field">Last Name</label>
                            <input asp-for="LastName" class="form-control" />
                            <span asp-validation-for="LastName" class="text-danger"></span>
                        </div>
                    </div>
                </div>

                <!-- Contact Information Section -->
                <div class="mb-4">
                    <h6 class="border-bottom pb-2 mb-3">Contact Information</h6>
                    <div class="row g-3">
                        @Html.TextBoxFor(m => m.Email,
                        new
                        {
                            @class = "form-control",
                            type = "email",
                            placeholder = "example@domain.com",
                            pattern = "[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",
                            title = "Please enter a valid email address (e.g., user@example.com)"
                        })

                        <div class="col-md-6">
                            <label asp-for="Phone" class="form-label required-field">Phone</label>
                            <div class="input-group">
                                <select class="form-select" style="max-width: 120px;">
                                    <option value="+1" selected>+1 (US)</option>
                                </select>
                                <input asp-for="Phone" class="form-control" />
                            </div>
                            <span asp-validation-for="Phone" class="text-danger"></span>
                        </div>
                    </div>
                </div>

                <!-- Address Section -->
                <div class="mb-4">
                    <h6 class="border-bottom pb-2 mb-3">Address</h6>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label asp-for="Address1" class="form-label required-field">Address Line 1</label>
                            <input asp-for="Address1" class="form-control" />
                            <span asp-validation-for="Address1" class="text-danger"></span>
                        </div>
                        <div class="col-md-6">
                            <label asp-for="Address2" class="form-label">Address Line 2</label>
                            <input asp-for="Address2" class="form-control" />
                        </div>
                        <div class="col-md-6">
                            <label asp-for="City" class="form-label required-field">City</label>
                            <input asp-for="City" class="form-control" />
                            <span asp-validation-for="City" class="text-danger"></span>
                        </div>
                        <div class="col-md-6">
                            <label asp-for="State" class="form-label required-field">State</label>
                            <select asp-for="State" class="form-select">
                                <option value="">Select State</option>
                                <option value="CA">California</option>
                                <!-- Add more states as needed -->
                            </select>
                            <span asp-validation-for="State" class="text-danger"></span>
                        </div>
                        <div class="col-md-6">
                            <label asp-for="Zipcode" class="form-label required-field">Zip Code</label>
                            <input asp-for="Zipcode" class="form-control" />
                            <span asp-validation-for="Zipcode" class="text-danger"></span>
                        </div>
                        <div class="col-md-6">
                            <label asp-for="Country" class="form-label required-field">Country</label>
                            <select asp-for="Country" class="form-select">
                                <option value="US" selected>United States</option>
                                <!-- Add more countries as needed -->
                            </select>
                            <span asp-validation-for="Country" class="text-danger"></span>
                        </div>
                    </div>
                </div>

                <!-- Professional Information Section -->
                <div class="mb-4">
                    <h6 class="border-bottom pb-2 mb-3">Professional Information</h6>
                    <div class="row g-3">
                        <div class="col-md-4">
                            <label asp-for="Experience" class="form-label required-field">Experience</label>
                            <select asp-for="Experience" class="form-select">
                                <option value="">Select Experience Level</option>
                                <option value="NoExperience">No Experience</option>
                                <option value="1Year">1 Year</option>
                                <option value="1-3Years">1-3 Years</option>
                                <option value="3-5Years">3-5 Years</option>
                                <option value="5-8Years">5-8 Years</option>
                                <option value="8-12Years">8-12 Years</option>
                                <option value="12YearsOrMore">12+ Years</option>
                            </select>
                            <span asp-validation-for="Experience" class="text-danger"></span>
                        </div>
                        <div class="col-md-4">
                            <label asp-for="Education" class="form-label required-field">Education</label>
                            <select asp-for="Education" class="form-select">
                                <option value="">Select Education Level</option>
                                <option value="High School">High School</option>
                                <option value="Bachelor's">Bachelor's Degree</option>
                                <option value="Master's">Master's Degree</option>
                                <option value="PhD">PhD</option>
                            </select>
                            <span asp-validation-for="Education" class="text-danger"></span>
                        </div>
                        <div class="col-md-4">
                            <label asp-for="EducationSubject" class="form-label required-field">Education Major</label>
                            <select asp-for="EducationSubject" class="form-select">
                                <option value="">Select Major</option>
                                <option value="Accounting">Accounting</option>
                                <option value="Biology">Biology</option>
                                <option value="Business Administration">Business Administration</option>
                                <option value="Chemistry">Chemistry</option>
                                <option value="Computer Science">Computer Science</option>
                                <option value="Criminal Justice">Criminal Justice</option>
                                <option value="Economics">Economics</option>
                                <option value="Education">Education</option>
                                <option value="Electrical Engineering">Electrical Engineering</option>
                                <option value="English">English</option>
                                <option value="Finance">Finance</option>
                                <option value="Graphic Design">Graphic Design</option>
                                <option value="History">History</option>
                                <option value="Human Resources">Human Resources</option>
                                <option value="Information Technology">Information Technology</option>
                                <option value="Journalism">Journalism</option>
                                <option value="Marketing">Marketing</option>
                                <option value="Mathematics">Mathematics</option>
                                <option value="Mechanical Engineering">Mechanical Engineering</option>
                                <option value="Nursing">Nursing</option>
                                <option value="Philosophy">Philosophy</option>
                                <option value="Physics">Physics</option>
                                <option value="Political Science">Political Science</option>
                                <option value="Psychology">Psychology</option>
                                <option value="Public Health">Public Health</option>
                                <option value="Sociology">Sociology</option>
                                <option value="Software Engineering">Software Engineering</option>
                                <option value="Other">Other (Please Specify)</option>
                            </select>
                            <span asp-validation-for="EducationSubject" class="text-danger"></span>
                        </div>
                        <div class="col-md-4">
                            <label asp-for="Nationality" class="form-label required-field">Nationality</label>
                            <input asp-for="Nationality" class="form-control" />
                            <span asp-validation-for="Nationality" class="text-danger"></span>
                        </div>
                        <div class="col-md-4">
                            <label asp-for="NoticePeriod" class="form-label required-field">Notice Period</label>
                            <select asp-for="NoticePeriod" class="form-select">
                                <option value="">Select Notice Period</option>
                                <option value="1Week">1 Week</option>
                                <option value="2Weeks">2 Weeks</option>
                                <option value="3Weeks">3 Weeks</option>
                                <option value="4Weeks">4 Weeks</option>
                                <option value="MoreThan4Weeks">More than 4 Weeks</option>
                            </select>
                            <span asp-validation-for="NoticePeriod" class="text-danger"></span>
                        </div>
                    </div>
                </div>

                <!-- Additional Information Section -->
                <div class="mb-4">
                    <h6 class="border-bottom pb-2 mb-3">Additional Information</h6>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label asp-for="WriteFullName" class="form-label required-field">Full Name</label>
                            <input asp-for="WriteFullName" class="form-control" />
                            <span asp-validation-for="WriteFullName" class="text-danger"></span>
                        </div>
                        <div class="col-md-6">
                            <label asp-for="AttachedResumeUrl" class="form-label required-field">Resume URL</label>
                            <input asp-for="AttachedResumeUrl" class="form-control" />
                            <span asp-validation-for="AttachedResumeUrl" class="text-danger"></span>
                        </div>
                        <div class="col-12">
                            <div class="form-check">
                                <input class="form-check-input" asp-for="WorkedForUs" />
                                <label class="form-check-label" asp-for="WorkedForUs">Have you worked for Us in the Past?</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-4 d-flex justify-content-between">
                    <a asp-action="Index" class="btn btn-outline-secondary">Back to List</a>
                    <button type="submit" class="btn btn-primary">Submit Application</button>
                </div>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const educationSubjectSelect = document.getElementById('EducationSubject');
            const customMajorContainer = document.createElement('div');
            customMajorContainer.className = 'mt-2';
            customMajorContainer.style.display = 'none';
            customMajorContainer.innerHTML = `
                <label class="form-label">Specify Major</label>
                <input type="text" class="form-control" id="CustomMajor" />
            `;
            educationSubjectSelect.parentNode.insertBefore(customMajorContainer, educationSubjectSelect.nextSibling);

            educationSubjectSelect.addEventListener('change', function() {
                if (this.value === 'Other') {
                    customMajorContainer.style.display = 'block';
                } else {
                    customMajorContainer.style.display = 'none';
                }
            });
        });
    </script>
}